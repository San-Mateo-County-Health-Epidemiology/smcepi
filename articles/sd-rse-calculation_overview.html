<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Statistical functions • smcepi</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Statistical functions">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-secondary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">smcepi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/azure_helpers_overview.html">Azure Helpers</a></li>
    <li><a class="dropdown-item" href="../articles/data-management.html">Data Management</a></li>
    <li><a class="dropdown-item" href="../articles/file-management.html">File Management</a></li>
    <li><a class="dropdown-item" href="../articles/life-expectancy-overview.html">Life Expectancy</a></li>
    <li><a class="dropdown-item" href="../articles/rse-calculation_overview.html">Relative Standard Error</a></li>
    <li><a class="dropdown-item" href="../articles/sd-calculation_overview.html">Standard Deviation</a></li>
    <li><a class="dropdown-item" href="../articles/sd-rse-calculation_overview.html">Statistical functions</a></li>
    <li><a class="dropdown-item" href="../articles/smc-geographies.html">San Mateo Geography Functions</a></li>
    <li><a class="dropdown-item" href="../articles/style_guide_templates.html">Style Guide Templates</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/San-Mateo-County-Health-Epidemiology/smcepi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Statistical functions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/San-Mateo-County-Health-Epidemiology/smcepi/blob/main/vignettes/sd-rse-calculation_overview.Rmd" class="external-link"><code>vignettes/sd-rse-calculation_overview.Rmd</code></a></small>
      <div class="d-none name"><code>sd-rse-calculation_overview.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="prop_sd">
<code>prop_sd</code><a class="anchor" aria-label="anchor" href="#prop_sd"></a>
</h2>
<div class="section level3">
<h3 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h3>
<p>This function calculates the standard deviation of a proportion. In
epidemiology, we often need to calculate standard deviations of
proportions to provide further context for interpretation of other
statistical measures such as rates. The default sd() function in R uses
a denominator of <code>n (sample size)-1</code>, but we wanted a
function that would use a denominator of n. Thus, the formula to
calculate the standard deviation (sd) of a proportion (prop) using the
<code>prop_sd</code> function is
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>d</mi><mo>=</mo><msqrt><mfrac><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>p</mi><mo>*</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mi>r</mi><mi>o</mi><mi>p</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mi>n</mi></mfrac></msqrt></mrow><annotation encoding="application/x-tex"> sd = \sqrt{\frac{prop*{(1-prop)}}{n}} </annotation></semantics></math></p>
</div>
<div class="section level3">
<h3 id="basic-usage">Basic usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h3>
<p>The function inputs include the numerator followed by the denominator
of the proportion. The function checks to ensure that the numerator and
denominator are numeric values prior to execution of the function.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>    <span class="va">num</span> <span class="op">&lt;-</span> <span class="fl">50</span></span>
<span>  <span class="va">denom</span> <span class="op">&lt;-</span> <span class="fl">2000</span></span>
<span>  </span>
<span>  <span class="fu"><a href="../reference/prop_sd.html">prop_sd</a></span><span class="op">(</span>num <span class="op">=</span> <span class="va">num</span>, denom <span class="op">=</span> <span class="va">denom</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.00349106</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="prop_rse">
<code>prop_rse</code><a class="anchor" aria-label="anchor" href="#prop_rse"></a>
</h2>
<p>This function calculates the relative standard error (RSE) for sample
and survey data. The RSE characterizes the reliability of a measure
represented as a percentage. A low RSE would indicate a more stable and
precise estimate while a high RSE suggests that the estimate is
unreliable.</p>
<div class="section level3">
<h3 id="basic-usage-method-sample">Basic usage: <code>method = "sample"</code><a class="anchor" aria-label="anchor" href="#basic-usage-method-sample"></a>
</h3>
<p>For the sample method, the function inputs include the
<code>prop_sd</code>, the sample size (n), and the method (“sample” in
this case) to determine the appropriate calculation for the data. The
sample method can typically be used on surveillance data sets common in
epidemiology. The formula for the <code>prop_rse</code> function sample
method is
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>s</mi><mi>e</mi><mo>=</mo><mfrac><mrow><mi>s</mi><mi>d</mi></mrow><mrow><msqrt><mi>(</mi></msqrt><mi>n</mi><mo stretchy="false" form="postfix">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex"> rse = \frac{sd}{\sqrt(n)} </annotation></semantics></math></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>    <span class="va">sample_sd</span> <span class="op">&lt;-</span> <span class="fl">25</span></span>
<span>    <span class="va">sample_n</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span>
<span>    <span class="va">sample_method</span> <span class="op">&lt;-</span> <span class="st">"sample"</span></span>
<span>    </span>
<span>    <span class="fu"><a href="../reference/prop_rse.html">prop_rse</a></span><span class="op">(</span>prop_sd <span class="op">=</span> <span class="va">sample_sd</span>, n <span class="op">=</span> <span class="va">sample_n</span>, method <span class="op">=</span> <span class="va">sample_method</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.7905694</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="basic-usage-method-survey">Basic usage: <code>method = "survey"</code><a class="anchor" aria-label="anchor" href="#basic-usage-method-survey"></a>
</h3>
<p>For the survey method, the function inputs include the
<code>prop_sd</code>, the sample size (n), and the method (“survey” in
this case) to determine the appropriate calculation for the data. The
survey method can be used on survey data sets in epidemiology. The first
step in calculating the relative standard error using the survey method
is to calculate the standard error (se) using the following formula,
which includes the standard deviation of the proportion (sd) and the
sample size (n).
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>e</mi><mo>=</mo><mfrac><mrow><mi>s</mi><mi>d</mi></mrow><mrow><msqrt><mi>(</mi></msqrt><mi>n</mi><mo stretchy="false" form="postfix">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex"> se = \frac{sd}{\sqrt(n)} </annotation></semantics></math></p>
<p>Then, the standard error (se) and sample size (n) are used to
calculate the relative standard error (rse) using the following
formula.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>s</mi><mi>e</mi><mo>=</mo><mn>100</mn><mo>*</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>s</mi><mi>e</mi><mi>/</mi><mi>n</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex"> rse = 100 * (se/n) </annotation></semantics></math></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>    <span class="va">survey_sd</span> <span class="op">&lt;-</span> <span class="fl">25</span></span>
<span>    <span class="va">survey_n</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span>
<span>    <span class="va">survey_method</span> <span class="op">&lt;-</span> <span class="st">"survey"</span></span>
<span>    </span>
<span>    <span class="fu"><a href="../reference/prop_rse.html">prop_rse</a></span><span class="op">(</span><span class="va">survey_sd</span>, <span class="va">survey_n</span>, <span class="va">survey_method</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.07905694</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
